<!DOCTYPE html>
<meta name="viewport" content="width=device-width">
<html lang="en">
<style>
    html{
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
    }

    .Pre_input::-webkit-input-placeholder {
        color: white;
    }

    body {
        /*overflow-y: hidden;*/
        overflow-y: scroll;
        height: 100%;
        width: 100%;
        /*height: 100vh;*/
        /*width: 100vw;*/
        margin: 0;
        padding: 0;
        /*background-image: url('../image/img_background.png');*/
        background-repeat: no-repeat;
        background-attachment: fixed;
        /*background-size: 100% 100%;*/
    }
    ul.Change_Spinner li{
        height: 100%;
        width: 100%;
        position: relative;
        background-color: white;
        list-style: none;
        float:left;
        /*z-index: 1;*/
    }
    ul.Change_Spinner li ul{
        height: 100%;
        width: 100%;
        position: relative;
        background-color: white;
        /*z-index: 5;*/
        display: none;
        float:left;
        margin: 0;
        padding: 0;
    }

    #title{

        color: rgba(0, 0, 0, 1);
        font-size: 20px;
        text-align: left;
        font-family: Helvetica-regular;
    }
    .inview {
        width: 100%;
        height: calc(100% - 120px);
        /*display: flex;*/
        align-items: center;
        flex-direction: column;
        overflow-y: scroll;
        overflow-x: hidden;
    }

    .leftBt {
        background-image: url("../image/btn_left_n.png");
        width: 50%;
        height: 60px;
        background-repeat: no-repeat;
        color: white;
        font-size: 20px;
        background-size: 100% 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .rightBt {
        background-image: url("../image/btn_right_n.png");
        width: 50%;
        height: 60px;
        background-repeat: no-repeat;
        color: white;
        font-size: 20px;
        background-size: 100% 100%;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .TitleText{
        height:100%;
        width:28%;
        font-size:20px;
        display:flex;
        justify-content: left;
        text-align: center;
        align-items: center;
        padding:0px;
        margin-left:10px;
    }

    .InputText{
        margin:0;
        padding-left:10%;
        border-color:black;
        border-width:1px;
        background-color:white;
        font-size:20px;
        width:90%;
        height:100%;
    }

</style>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="../glitterBundle/ControlInstance.js"></script>
<script src="GlAdapter.js"></script>
<body id="bodyClick">

</body>
</html>
<script>

    // <div style="width:100%;height:48px;display: flex;justify-content: space-around;margin-top:3%">
    //     <div
    //         style="height:100%;width:28%;font-size:16px;display:flex;justify-content: left;text-align: center;align-items: center;margin-left:5%;padding: 0px;">標準胎壓值
    //     </div>
    //     <div id="Pre_S" style="height:100%;width:24%;justify-content: center;text-align: center;margin:0;">
    //         <input id="Pre_input" onKeyUp=""
    //                style="border-width:1px;border-color:black;margin:0;padding-left:10%;background-color:white;width:85%;height:100%;font-size:20px"
    //                type="text" placeholder="800" id="fname" name="fname" maxLength="6">
    //     </div>
    //     <div id="Pre_text"
    //          style="height:100%;width:34%;display:flex;justify-content: left;text-align: center;align-items: center;">kPa
    //     </div>
    // </div>
    // <div
    //     style="margin-top:3%;height:5%;width:100%;font-size:14px;display:flex;justify-content: center;text-align: center;align-items: center;padding: 0px;">※
    //     請根據輪胎側面的氣壓標示作為設定參考</div>
    // <div
    //     style="margin-top:2%;height:1px;width:100%;background-color:#DDDDDD;display: flex;justify-content: center;"></div>

    // <div id="Pre_High" style="height:100%;width:12%;justify-content: center;text-align: center;">
    //     <input id="Pre_High_input" onKeyUp=""
    //            style="margin:0;padding-left:10%;border-color:black;border-width:1px;background-color:white;width:90%;height:100%;"
    //            type="text" id="Pre_High_fname" placeholder="125" name="fname" maxLength="6">
    // </div>
    // <div
    //     style="font-size:14px;margin-right:3px;margin-left:6px;display:flex;justify-content: flex-end;text-align: center;align-items: center;">%</div>

    // <div id="Pre_Low" style="height:100%;width:12%;justify-content: center;text-align: center;">
    //     <input id="Pre_Low_input" onKeyUp=""
    //            style="margin:0;padding-left:10%;border-color:black;border-width:1px;background-color:white;width:90%;height:100%;"
    //            type="text" id="Pre_Low_fname" placeholder="25" name="fname" maxLength="6">
    // </div>
    // <div
    //     style="font-size:14px;margin-right:3px;margin-left:6px;display:flex;justify-content: flex-end;text-align: center;align-items: center;">%</div>

    lifeCycle.onCreateView = function () {
        return `
        <body id="bodyClick">
        <div class="inview">
    <div style="width:100%;height:50px;display: flex;justify-content: space-around;margin-top:5%;">
        <div class="TitleText">胎壓單位</div>
        <div id="Pre" style="height:100%;width:30%;border-style:solid;border-color:black;border-width:1px;justify-content: center;text-align: center;"></div>
        <div style="height:100%;width:34%;">    </div>
    </div>
    <div style="width:100%;height:50px;display: flex;justify-content: space-around;margin-top:5%;">
        <div class="TitleText">溫度單位</div>
        <div id="Tem" style="height:100%;width:30%;border-style:solid;border-color:black;border-width:1px;justify-content: center;text-align: center;"></div>
        <div style="height:100%;width:34%;">    </div>
    </div>
    <div style="margin-top:3%;height:1px;width:100%;background-color:#DDDDDD;display: flex;justify-content: center;"></div>

    <div style="width:100%;height:50px;display: flex;margin-left:10px;margin-top:2%">
        <div style="height:100%;font-size:20px;display:flex;justify-content: left;text-align: center;align-items: center;padding: 0px;">胎壓警報設定</div>
        <div style="height:100%;width:24%;"></div>
        <div style="height:100%;width:34%;"></div>
    </div>
    <div style="width:100%;height:50px;display: flex;justify-content: space-around;margin-top:1%">
        <div class="TitleText" >高於胎壓</div>
        <div id="Pre_High_value" style="height:100%;width:30%;">
            <input id="Pre_High_value_input" class="InputText" onkeyup=""  type="text" id="Pre_High_Value_fname" placeholder="1000" name="fname" maxlength="6" readonly>
        </div>
            <div id="Pre_High_text" style="height:100%;width:34%;font-size:20px;display:flex;justify-content: left;text-align: center;align-items: center;margin-left:10px">kPa</div>
    </div>
    <div style="width:100%;height:50px;display: flex;justify-content: space-around;margin-top:3%">
        <div class="TitleText" >低於胎壓</div>
        <div id="Pre_Low_value" style="height:100%;width:30%;">
            <input id="Pre_Low_value_input" class="InputText" onkeyup="" type="text" id="Pre_Low_Value_fname" placeholder="600" name="fname" maxlength="6" readonly>
        </div>
             <div id="Pre_Low_text" style="height:100%;width:34%;font-size:20px;display:flex;justify-content: left;text-align: center;align-items: center;margin-left:10px">kPa</div>
        </div>
    <div style="margin-top:5%;height:1px;width:100%;background-color:#DDDDDD;display: flex;justify-content: center;"></div>

    <div style="width:100%;height:50px;margin-left:10px;display: flex;margin-top:1%">
        <div style="height:100%;font-size:20px;display:flex;justify-content: left;text-align: center;align-items: center;padding: 0px;">溫度警報設定</div>
        <div style="height:100%;width:24%;"></div>
        <div style="height:100%;width:34%;"></div>
    </div>
    <div style="width:100%;height:50px;display: flex;justify-content: space-around;margin-top:1%">
        <div class="TitleText">溫度高於</div>
        <div id="Tem_High" style="height:100%;width:30%;">
            <input id="Tem_High_input" onkeyup="" class="InputText" type="text" id="Tem_High_fname" placeholder="80" name="fname" maxlength="6" readonly>
        </div>
        <div id="Tem_text" style="height:100%;width:34%;font-size:20px;display:flex;justify-content: left;text-align: center;align-items: center;">°C</div>
    </div>
    <div style="margin-top:5%;height:1px;width:100%;background-color:#DDDDDD;display: flex;justify-content: center;"></div>

</div>
<div style="height: 60px;width: 100%;display: flex;background-color: #003D6C;">
<div id="leftBt" class="leftBt" onclick="reset()">恢復預設值</div>
<div id="rightBt" class="rightBt" onclick="writeUnitRange()">確認</div>
</div>

</body>
        `
    }

    var Tem_High_Value=""
    var Pre_High_Value=""
    var Pre_Low_Value=""

    function reset(){
        var tem=document.getElementById('Tem_text').innerText.toString().trim()
        var pre=document.getElementById('Pre_High_text').innerText.toString().trim()
        //console.log("Pre:"+Pre_High)
        $('#Tem_High_input').val(Temperature(tem,"80"))
        $('#Pre_High_value_input').val(Pressure(pre,"1102"))
        $('#Pre_Low_value_input').val(Pressure(pre,"689"))
    }

    var cart = '00'
    var carType = glitter.selectCarType
    lifeCycle.onCreate = function () {

        touchChange("left")
        touchChange("right")

        document.getElementById('Pre').innerHTML =unit_html("0","Pre",2)
        document.getElementById('Tem').innerHTML =unit_html("0","Tem",1)
        // $('#Pre').innerHTML =unit_html("0","Pre",2)
        // $('#Tem').innerHTML =unit_html("0","Tem",1)
        Spinner_Button("Pre",2)
        Spinner_Button("Tem",1)
        turnAll("psi")

        setInput()

        Key_input('Pre_High_value_input',4)
        Key_input('Pre_Low_value_input',4)
        Key_input('Tem_High_input',3)

        document.getElementById('bodyClick').onclick = function (e){
            console.log("bodyClick")
            // $("ul.Change_Spinner li ul").css("display","none")
            // $("ul.Change_Spinner li ul").hide()

            Close_Unit_Show("Pre")
            Close_Unit_Show("Tem")
        }

        /*
        * 判斷前後車
        * */
        if (carType.indexOf("F") !== -1) {
            cart = '01'
        } else {
            cart = '02'
        }
        if (glitter.deviceType !== glitter.deviceTypeEnum.Web) {
            glitter.openDiaLog('dialog/Dia_Loading_notext.html', 'Dia_Loading_notext', false, false)
            setTimeout(readUnitRange,3000)
        }
        //glitter.openDiaLog('dialog/Dia_Info_Problem.html', 'Dia_Info_Problem', false, true, "設定失敗")
    }

    function Key_input(cssID,lenght){
        document.getElementById(cssID).onclick=function () {
            var idName=this.id
            console.log("idName:"+idName)

            glitter.openDiaLog('dialog/Dia_Number_Keyboard.html', 'Dia_Number_Keyboard', false, true, {
                callback: function (data) {
                    // if(idVerify(data)){
                    $('#' + idName).val(data)
                    //glitter.closeDiaLog()
                    // }
                },
                data: $('#' + idName).val(),
                writeC:function (data) {
                    //if(idVerify(data)){
                    $('#' + idName).val(data)
                    glitter.closeDiaLog()
                    //}
                },
                wordLenght:lenght,
                decimal:false
            })
            //return false
        }
    }

    function touchChange(button){
        document.getElementById(button+"Bt").addEventListener('touchstart', function (event) {
            console.log('touchstart' + ':' + this.id)
            $("#"+button+"Bt").css('background-image', "url('../image/btn_"+button+"_p.png')")

        }, false);
        document.getElementById(button+"Bt").addEventListener('touchend', function (event) {
            console.log('touchend' + ':' + this.id)
            $("#"+button+"Bt").css('background-image',"url('../image/btn_"+button+"_n.png')")

        }, false);
        document.getElementById(button+"Bt").addEventListener('touchmove', function (event) {
            //console.log('touchmove')

            if(!(this.offsetTop <= event.touches[0].clientY && this.offsetTop+this.offsetHeight >= event.touches[0].clientY &&
                this.offsetLeft <= event.touches[0].clientX && this.offsetLeft+this.offsetWidth >= event.touches[0].clientX)){
                console.log('notouch:true')
                $("#"+button+"Bt").css('background-image',"url('../image/btn_"+button+"_n.png')")
            }

        },false);
    }

    function turnAll(Pre){
        var High_Orange=$('#Pre_High_value_input').val()
        if(High_Orange!==""){
            $('#Pre_High_value_input').val(Pressure(Pre,High_Orange))
        }
        var Low_Orange=$('#Pre_Low_value_input').val()
        if(Low_Orange!==""){
            $('#Pre_Low_value_input').val(Pressure(Pre,Low_Orange))
        }

        //console.log("Unit : "+High_text+High_Orange+","+Low_text+Low_Orange)
        //預設浮水字
        $('#Pre_High_value_input').attr("placeholder",Pressure(Pre,"1102"))
        $('#Pre_Low_value_input').attr("placeholder",Pressure(Pre,"689"))
        //轉換單位的字
        document.getElementById("Pre_Num" + 0).innerText = Pre
        document.getElementById("Pre_High_text").innerText = Pre
        document.getElementById("Pre_Low_text").innerText = Pre
    }

    function readUnitRange(){
        //glitter.openDiaLog('dialog/Dia_Loading_notext.html', 'Dia_Loading_notext', false, false)
        //glitter.openDiaLog('dialog/Dia_Loading.html', 'Dia_Loading', false, false, "讀取中...")
        glitter.command.readUnitRange(cart,function (data) {
            glitter.closeDiaLog()

            if(data.length === 0){
                glitter.openDiaLog('dialog/Dia_Info_Fail.html', 'Dia_Info_Fail', false, true, '讀取失敗', function () {
                    setTimeout(function () {
                        glitter.goBack()
                    }, 200)})
            }else{
                glitter.openDiaLog('dialog/Dia_Info.html', 'info', false, true, '讀取成功'+"\n"+(parseInt(data[0])-50)+","+data[1]+","+data[2], function () {
                    setTimeout(function () {
                        Tem_High_Value=(parseInt(data[0])-50).toString()
                        Pre_High_Value=data[1]
                        Pre_Low_Value=data[2]
                        $('#Tem_High_input').val(Tem_High_Value)
                        $('#Pre_High_value_input').val(Pre_High_Value)
                        $('#Pre_Low_value_input').val(Pre_Low_Value)

                        turnAll("psi")
                    }, 200)})
            }
        })
    }

    function writeUnitRange(){
        var Tem_text=document.getElementById("Tem_text").innerText
        var High_text=document.getElementById("Pre_High_text").innerText
        var Low_text=document.getElementById("Pre_Low_text").innerText

        var Tem_value=$('#Tem_High_input').val().toString().trim()
        var Pre_High_value=$('#Pre_High_value_input').val().toString().trim()
        var Pre_Low_value=$('#Pre_Low_value_input').val().toString().trim()

        var Empty = Tem_value==="" || Pre_High_value==="" || Pre_Low_value===""
        var Tem_range = parseInt(trun_C(Tem_text,Tem_value)) > 100
        var Pre_High_range = parseInt(trun_kPa(High_text,Pre_High_value)) > 1040
        var Pre_Low_range = parseInt(trun_kPa(Low_text,Pre_Low_value)) > 1040
        if(Empty){
            glitter.openDiaLog('dialog/Dia_Info_Problem.html', 'Dia_Info_Problem', false, true, '資料不能為<br>空白', function () {})
            return
        }else if(Tem_range){
            glitter.openDiaLog('dialog/Dia_Info_Problem.html', 'Dia_Info_Problem', false, true, '溫度不能超過'+Temperature(Tem_text,"100"), function () {})
            return
        }else if(Pre_High_range){
            glitter.openDiaLog('dialog/Dia_Info_Problem.html', 'Dia_Info_Problem', false, true, '胎壓不能超過'+Pressure(High_text,"1000"), function () {})
            return
        }else if(Pre_Low_range){
            glitter.openDiaLog('dialog/Dia_Info_Problem.html', 'Dia_Info_Problem', false, true, '胎壓不能超過'+Pressure(Low_text,"1000"), function () {})
            return
        }
        glitter.openDiaLog('dialog/Dia_Loading_notext.html', 'Dia_Loading_notext', false, false)
        //glitter.openDiaLog('dialog/Dia_Loading.html', 'Dia_Loading', false, false, "寫入中...")

        console.log("Tem_text:"+Tem_text+","+trun_C(Tem_text,$('#Tem_High_input').val()))
        var H_Temp=(parseInt(trun_C(Tem_text,$('#Tem_High_input').val()))+50).toString()
        var high_pre=trun_kPa(High_text,$('#Pre_High_value_input').val())
        var low_pre=trun_kPa(Low_text,$('#Pre_Low_value_input').val())
        console.log(H_Temp+","+high_pre+","+low_pre)
        glitter.command.writeUnitRange(cart,H_Temp,high_pre,low_pre,function (data) {
            glitter.closeDiaLog()

            if(!data){
                glitter.openDiaLog('dialog/Dia_Info_Fail.html', 'Dia_Info_Fail', false, true, '設定失敗', function () {
                    setTimeout(function () {
                        //glitter.goBack()
                    }, 200)})
            }else{
                glitter.openDiaLog('dialog/Dia_Info_Success.html', 'Dia_Info_Success', false, true, '設定成功', function () {
                    setTimeout(function () {

                    }, 200)})
            }
        })
    }

    // glitter.openDiaLog('dialog/Dia_Loading.html', 'Dia_Loading', false, false, "寫入中...")
    // glitter.command.writeUnitRange("01","100","800","600",function (data) {
    //     glitter.closeDiaLog()
    //     if (!data) {
    //         glitter.openDiaLog('dialog/Dia_Info.html', 'info', false, true, '寫入失敗!!', function () {
    //             setTimeout(function () {
    //                 glitter.goBack()
    //             }, 200)
    //         })
    //     }else{
    //         // glitter.openDiaLog('dialog/Dia_Info.html', 'info', false, true, '寫入成功!!', function () {
    //         //     setTimeout(function () {
    //         //         //glitter.goBack()
    //         //     }, 200)
    //         // })
    //                 glitter.command.readUnitRange("01",function (data) {
    //                     if(data.length === 0){
    //                         glitter.openDiaLog('dialog/Dia_Info.html', 'info', false, true, '讀取失敗!!', function () {
    //                             setTimeout(function () {
    //                                 glitter.goBack()
    //                             }, 200)})
    //                     }else{
    //                         glitter.openDiaLog('dialog/Dia_Info.html', 'info', false, true, '讀取成功!!'+"\n"+data[0]+","+data[1]+","+data[2], function () {
    //                             setTimeout(function () {
    //
    //                             }, 200)})
    //                     }
    //                 })
    //     }
    // })

    function unit_html(position,unit,many){
        let UnitName=''
        if(unit==="Pre"){
            UnitName="kPa"
            //UnitName="psi"
        }
        if(unit==="Tem"){
            UnitName="°C"
        }
        let Unit_html=''
        Unit_html=
            '<ul class="Change_Spinner" style="width:100%;height:100%;display:flex;justify-content: center;text-align: center;align-items: center;margin:0px;padding: 0;">' +
            '<li id='+unit+"_button"+position+' style="width:100%;height:100%;background-color:white;">' +
            '<div style="width:100%;height:100%;position: relative;display: flex;flex-direction: row;z-index: 1;">' +
                '<a  id='+unit+"_Num"+position+' style="color: #111111;width:90%;height:100%;font-size:20px;background-color:white;display:flex;justify-content: left;text-align:left;align-items: center;margin-left:10%;padding:0;z-index: 1">'+UnitName+'</a>'+
                '<a id='+unit+"_list"+position+' style="background-image: url(../image/grag.png); background-size: 20px 20px;background-repeat: no-repeat;background-position: right 10px center;color:black;width:100%;height:100%;font-size:10px;display:flex;justify-content: flex-end;text-align:right;align-items: center;transform:scaleY(-1);z-index: 1;"></a></div>'+  //&ensp;
            '<ul id='+unit+"_show"+position+' style="width:100%;height: auto;display:none;left:-1px;border-color:black;border-width:1px;border-style:solid;z-index: 3" >'

        for(let i=0;i<=many;i++){
            Unit_html+='<li id='+unit+position+"-"+i+' style="width:80%;height:40px;font-size:20px;color: #111111;display:flex;justify-content: left;text-align:left;align-items: center;background:white;padding-left:20%;">'+i+'</li>' //&emsp;
        }

        Unit_html+='</ul></li></ul>'

        return Unit_html
    }

    function Spinner_Button(unit,many){
        if(unit==="Pre"){
            document.getElementById(unit + 0 + "-" + 0).innerText = "kPa"
            document.getElementById(unit + 0 + "-" + 1).innerText = "psi"
            document.getElementById(unit + 0 + "-" + 2).innerText = "bar"
        }
        if(unit==="Tem"){
            document.getElementById(unit + 0 + "-" + 0).innerText = "°C"
            document.getElementById(unit + 0 + "-" + 1).innerText = "°F"
        }

        document.getElementById(unit+"_button0").onclick = function (e) {
            e.stopImmediatePropagation();
            //e.defaultPrevented
            //console.log($("ul.Change_Spinner li ul").css.toString())
            //$("ul.Change_Spinner li:hover ul").css("display","block")

            console.log(unit+"_button" + 0)
            //Close_Rx_show(i)
            //Close_Wheel_Show(-1)
            if(unit==="Pre"){
                Close_Unit_Show("Tem")
            }
            if(unit==="Tem"){
                Close_Unit_Show("Pre")
            }

            if ($("#"+unit+"_show" + 0).css('display') === 'block') {
                $("#"+unit+"_show" + 0).hide()
                $("#"+unit+"_list" + 0).css("transform", "scaleY(-1)")
                //$("#Rx_list"+i).css("transform","scaleY","1")
                //document.getElementById("Rx_list"+i).innerText = "ｖ"
            } else {
                $("#"+unit+"_show" + 0).show()
                $("#"+unit+"_list" + 0).css("transform", "scaleY(1)")
                //$("#Rx_list"+i).css("transform","scaleY","1")
                //document.getElementById("Rx_list"+i).innerText = "^"

                for (let p = 0; p <= many; p++) {
                    $("#"+unit+ 0 + "-" + p).click(function () {

                        //console.log("Rx_num : "+document.getElementById("Rx_Num"+i).innerText)

                        let main_num = document.getElementById(unit+"_Num" + 0).innerText
                        let rx_num = document.getElementById(unit +0 + "-" + p).innerText

                        //不同位置
                        if( main_num.trim() !== rx_num.trim()){
                            //console.log("rx不同位置")
                            document.getElementById(unit+"_Num"+0).innerText=rx_num
                            //document.getElementById(unit+"_text").innerText=rx_num
                            if(unit==="Pre"){
                                var High_text=document.getElementById("Pre_High_text").innerText
                                var Low_text=document.getElementById("Pre_Low_text").innerText

                                if($('#Pre_High_value_input').val().length!==0){
                                    var High_Orange=trun_kPa(High_text,$('#Pre_High_value_input').val())
                                    $('#Pre_High_value_input').val(Pressure(rx_num,High_Orange))
                                }
                                if($('#Pre_Low_value_input').val().length!==0){
                                    var Low_Orange=trun_kPa(Low_text,$('#Pre_Low_value_input').val())
                                    $('#Pre_Low_value_input').val(Pressure(rx_num,Low_Orange))
                                }
                                //console.log("Unit : "+High_text+High_Orange+","+Low_text+Low_Orange)
                                //預設浮水字
                                $('#Pre_High_value_input').attr("placeholder",Pressure(rx_num,"1102"))
                                $('#Pre_Low_value_input').attr("placeholder",Pressure(rx_num,"689"))
                                document.getElementById("Pre_High_text").innerText = rx_num
                                document.getElementById("Pre_Low_text").innerText = rx_num

                            }
                            if(unit==="Tem"){
                                var Tem_text=document.getElementById("Tem_text").innerText

                                if($('#Tem_High_input').val().length!==0){
                                    var High_Orange=trun_C(Tem_text,$('#Tem_High_input').val())
                                    $('#Tem_High_input').val(Temperature(rx_num,High_Orange))
                                }
                                //console.log("Unit : "+High_text+High_Orange+","+Low_text+Low_Orange)
                                $('#Tem_High_input').attr("placeholder",Temperature(rx_num,"80"))
                                document.getElementById("Tem_text").innerText = rx_num
                            }
                            return
                        }
                    })

                    //$("#rx"+i+"-"+p)
                    document.getElementById(unit + 0 + "-" + p).addEventListener('touchstart', function (event) {
                        $("#"+unit+ 0 + "-" + p).css("background", "#0075C1")
                        $("#"+unit+ 0 + "-" + p).css("color", "#FFFFFF")
                    })
                    document.getElementById(unit + 0 + "-" + p).addEventListener('touchend', function (event) {
                        $("#"+unit+ 0 + "-" + p).css("background", "#FFFFFF")
                        $("#"+unit+ 0 + "-" + p).css("color", "#111111")
                    })

                }
            }
        }
    }

    function Close_Unit_Show(unit){
        $("#"+unit+"_show"+0).hide()
        $("#"+unit+"_list"+0).css("transform","scaleY(-1)")
    }

    function setInput(){
        // let Tem_High = document.getElementById("Tem_High_input");
        // Tem_High.value = Tem_High.value.replace(/[^0-9]/g, '').toUpperCase();
        // //x.value = x.value.toUpperCase()
        // if(Tem_High.value.length>=3){
        //     console.log("大於3 size")
        //     Tem_High.value = Tem_High.value.substring(0,3)
        //     return false
        //     //x.value.innerText = x.value.innerText.substring(0,6)
        // }
        //
        // let Pre_High = document.getElementById("Pre_High_value_input");
        // Pre_High.value = Pre_High.value.replace(/[^0-9]/g, '').toUpperCase();
        // //x.value = x.value.toUpperCase()
        // if(Pre_High.value.length>=4){
        //     console.log("大於4 size")
        //     Pre_High.value = Pre_High.value.substring(0,4)
        //     return false
        //     //x.value.innerText = x.value.innerText.substring(0,6)
        // }
        //
        // let Pre_Low = document.getElementById("Pre_Low_value_input");
        // Pre_Low.value = Pre_Low.value.replace(/[^0-9]/g, '').toUpperCase();
        // //x.value = x.value.toUpperCase()
        // if(Pre_Low.value.length>=4){
        //     console.log("大於4 size")
        //     Pre_Low.value = Pre_Low.value.substring(0,4)
        //     return false
        //     //x.value.innerText = x.value.innerText.substring(0,6)
        // }

        $("#Tem_High_input").keyup( function() {
            this.value = this.value.replace(/[^0-9]/g, '').toUpperCase();
            if(this.value.length>3){
                this.value = this.value.substring(0,3).toUpperCase()
                return
            }
        });
        $("#Pre_High_value_input").keyup( function (event) {
            this.value = this.value.replace(/[^0-9]/g, '').toUpperCase();
            if(this.value.length>4){
                this.value = this.value.substring(0,4).toUpperCase()
                return
            }
        });
        $("#Pre_Low_value_input").keyup( function (event) {
            this.value = this.value.replace(/[^0-9]/g, '').toUpperCase();
            if(this.value.length>4){
                this.value = this.value.substring(0,4).toUpperCase()
                return
            }
        });
    }

    function Pressure(UnitData,field){
        //console.log("Pre1:"+UnitData)
        // if(field.trim()===""){
        //     return ""
        // }
            if(UnitData==="psi"){
                var pre = parseFloat(field) /6.89
                //var Main_pre = pre.setScale(2, BigDecimal.ROUND_HALF_UP).toFloat()
                var Main_pre = Math.round(pre)
                return Main_pre
            }else if(UnitData==="kPa"){
                //console.log("Pre2:"+UnitData)
                return field
            }else if(UnitData==="bar"){
                var pre = parseFloat(field) * 0.01
                //var Main_pre = pre.setScale(2, BigDecimal.ROUND_HALF_UP).toFloat()
                var Main_pre = Math.round(pre)
                return Main_pre
            }

    }
    function trun_kPa(UnitData,field){
        if(UnitData==="psi"){
            var pre = parseFloat(field) * 6.89
                //var Main_pre = pre.setScale(2, BigDecimal.ROUND_HALF_UP).toFloat()
            var Main_pre = Math.round(pre)
            return Main_pre
        }
        else if(UnitData==="bar"){
            var pre = parseFloat(field) * 100
            //var Main_pre = pre.setScale(2, BigDecimal.ROUND_HALF_UP).toFloat()
            var Main_pre = Math.round(pre)
            return Main_pre
        }
        else if(UnitData==="kPa"){
            return field
        }
    }
    function Temperature(UnitData,field){
        if(UnitData==="°C"){
            return field
        }if(UnitData==="°F"){
            var pre =  (parseFloat(field) * 9 / 5) + 32
            var Main_pre = Math.round(pre)
            return Main_pre
        }
    }
    function trun_C(UnitData,field){
        if(UnitData==="°C"){
            return field
        }if(UnitData==="°F"){
            var pre =  (parseFloat(field) - 32)/1.8
            var Main_pre = Math.round(pre)
            return Main_pre
        }
    }

</script>